local TextChatService = game:GetService("TextChatService")
local function SendChatMessage(message)
    if TextChatService.ChatVersion == Enum.ChatVersion.TextChatService then
        local textChannel = TextChatService.TextChannels.RBXGeneral
        textChannel:SendAsync(message)
    else
        game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(message, "All")
    end
end

for i = 1, 5 do
        SendChatMessage("Hi")
    wait(2) -- waits 2 second between messages
end
